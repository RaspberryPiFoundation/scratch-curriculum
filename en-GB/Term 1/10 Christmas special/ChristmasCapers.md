---
title: Christmas Capers
level: Level 2
language: ru-RU
stylesheet: scratch
embeds: "*.png"
materials: "*.sb2"
...
# Введение { .intro}
__В этом проекте мы создадим игру на праздничную тему с меняющимся фоном и с подсчетом очков.__
Происшествие на фабрике игрушек — все подарки улетели в небо! Помогите Рудольфу поймать их и спасти Рождество!
# ШАГ 1: Заставим Рудольфа летать {.activity}
## Список проверки действий { .check}
1. Создайте новый проект Scratch. Удалите кота, щелкнув по нему правой кнопкой мыши и нажав пункт меню «Удалить».
2. Замените фон другим, файлом **SkyBackground.png**.
3. Добавьте в проект спрайт Рудольфа (воспользуйтесь файлом **resources/Rudolph.png**).
4. Заставьте Рудольфа следовать за указателем мыши, создав следующий скрипт:
```блоки
когда щелкнут по ФЛАГУ
перейти в верхний слой
всегда
перейти в [mouse-pointer v]
```
## Проверьте свой проект { .flag}
__Щелкните по флажку и двигайте мышь__. Рудольф следует за мышью?
## Сохраните свой проект { .save}
1. Для того чтобы сделать игру интереснее, добавим движущиеся заснеженные холмы, и Рудольф будет как будто лететь над ними. Добавьте в проект спрайт Snow (воспользуйтесь файлом __SnowHills.png__).
2. Переименуйте спрайт в __Snow1__.
3. Создайте новую переменную. Для этого перейдите на вкладку «Данные» и нажмите **Создать переменную**. Назовите ее `ScrollX`{.blockorange} и сделайте доступной для всех спрайтов. Снимите отметку
в поле рядом с именем переменной, чтобы ее не было видно на сцене. Она будет использоваться для управления движением холмов.
4. Для того чтобы холмы двигались, добавьте скрипт:
```блоки
когда щелкнут по ФЛАГУ
установить y в (0)
всегда
установить x в (ScrollX)
изменить [ScrollX v] на (-1)
если <(ScrollX) < (-480)>
установить [ScrollX v] в [0]
```
## Проверьте свой проект { .flag}
__Щелкните по зеленому флажку__. Холмы движутся? Что происходит, когда
они доходят до границы экрана?
## Сохраните свой проект { .save}
10. Давайте исправим проблему с миганием холмов на правом краю экрана.
Добавьте еще холмов на сцену при помощи команды __Новый из меню Файл__.
Этим методом мы еще раз добавим спрайт Снег в проект (воспользуйтесь
файлом **SnowHills.png**).
11. Переименуйте спрайт в __Snow2__.
12. Добавьте следующий скрипт в спрайт Snow2, чтобы рядом с первым
набором рядом двигался второй:
```блоки
когда щелкнут по ФЛАГУ
установить y в (0)
всегда
установить x в <(ScrollX) + [479]>
```
## Проверьте свой проект { .flag}
__Щелкните по зеленому флажку__. Холмы движутся? Решена ли проблема с
миганием деревьев?
## Сохраните свой проект { .save}
# ШАГ 2: Падающие подарки { .activity}
## Список проверки действий { .check}
1. Теперь давайте добавим подарки, которые Рудольф должен собирать.
Добавьте в проект спрайт **Подарок** (файл **Present.png**).
2. __Создайте новую переменную__ . Для этого перейдите на вкладку
«Данные»{.blocklightgrey} и нажмите **Создать переменную**. Назовите ее
`Конец`{.blockorange} и задайте ее действие только для текущего спрайта,
затем снимите отметку с поля слева от имени переменной, чтобы удалить ее
со сцены. Эта переменная нужна для того, чтобы управлять удалением
подарка из игры.
3. __Создайте еще одну переменную__. Назовите ее `Скорость`{.blockorange}
и задайте ее действие только для текущего спрайта, затем снимите отметку
с поля слева от имени переменной, чтобы удалить ее со сцены. Эта
переменная нужна для того, чтобы управлять скоростью падения подарков на
экране.
4. Добавьте следующие команды для спрайта **Подарок**, и подарки будут падать с неба. Обратите внимание на команду "выдать случайное число"{.blockgreen}, которой мы воспользуемся для того, чтобы подарок все время появлялся в разных местах.
5. А при помощи блока "касается?" [Рудольфа]{.blocklightblue} мы заставляем подарок исчезать при соприкосновении с ним. Позже это пригодится еще и для подсчета очков.
```блоки
когда щелкнут по ФЛАГУ
всегда
установить [Конец v] в [0]
перейти в x: <выдать случайное от (-230) до (230)> y: <выдать случайное от (50) до (170)>
установить [Скорость v] в [-1]
повторять, пока не <(Finish) = [1]>
изменить y на (Speed)
если <([y позиция v] [Подарок v]) < [-160]>
установить [Конец] в [1]
конец
если <касается [Рудольф v]?>
установить [Конец] в [1]
```
## Проверьте свой проект { .flag}
__Щелкните зеленый флажок.__ Подарки падают с неба? Они исчезают, падая на землю или когда Рудольф касается их?
## Сохраните свой проект { .save}
1. Давайте сделаем игру интереснее. Пусть каждый раз, когда подарки падают, их цвет меняется. Для этого мы используем блок `изменить цвет`{.blockpurple}.
2. Измените цвет каждого из подарков, заменив команду `установить Скорость в -1`{.blockorange} на команду `выдать случайное`{.blockgreen}, и попробуйте разные диапазоны, например от **-10** до **-1**. Теперь скрипт должен выглядеть так.
```блоки
когда щелкнут по ФЛАГУ
всегда
установить [Конец v] в [0]
перейти в x: <выдать случайное от (-230) до (230)> y: <выдать случайное от (50) до (170)>
изменить [цвет v] эффект на <выдать случайное от (1) до (-160)>
установить [Скорость v] в <выдать случайное (-10) to (-1)
повторять, пока не <(Finish) = [1]>
изменить y на (Speed)
если <([y позиция v] [Подарок v]) < [-160]>
установить [Конец] в [1]
конец
если <касается [Рудольф v]?>
установить [Конец] в [1]
```
## Проверьте свой проект { .flag}
__Щелкните зеленый флажок.__ Подарки падают с разной скоростью, и у них разные цвета?
## Сохраните свой проект { .save}
# ШАГ 3: Подсчет очков и звуковые эффекты { .activity}
## Список проверки действий { .check}
1. __Давайте изменим наш скрипт так, чтобы в игре подсчитывались очки.__ Позже новые команды можно будет использовать также для сообщения об окончании игры.
2. Создайте новую переменную. Назовем ее `Счет`{.blockorange} и сделаем доступной для всех спрайтов. Оставьте отметку в поле рядом с именем переменной, чтобы ее было видно на экране.
3. Измените скрипт для спрайта **Подарок**, как описано ниже. Обратите внимание: мы, во-первых, добавили звук командой 'барабану играть`{.blockpink}, а во-вторых, вставили команду `изменить [ счет ] на 1`{.blockorange}, когда Рудольф касается подарка.
```блоки
когда щелкнут по ФЛАГУ
всегда
установить [Конец v] в [0]
перейти в x: <выдать случайное от (-230) до (230)> y: <выдать случайное от (50) до (170)>
изменить [цвет v] эффект на <выдать случайное от (1) до (-160)>
установить [Скорость v] в <выдать случайное (-10) to (-1)
повторять, пока не <(Finish) = [1]>
изменить y на (Speed)
если <([y позиция v] [Подарок v]) < [-160]>
барабану играть [57 v] (0.2) тактов
установить [Конец] в [1]
конец
если <касается [Рудольф v]?>
барабану играть [39 v] (0.2) тактов
установить [Конец] в [1]
изменить [Счет v] на [1]
```
4. Давайте добавим в игру музыку. Для этого импортируем на сцену файл **Jingle_Bells.mp3**.
```блоки
когда щелкнут по ФЛАГУ
установить [ScrollX v] в [0]
установить [Счет v] в [0]
играть звук [Jingle_Bells v]
```
5. Добавьте на сцену следующий скрипт. Он позволит установить счет равным 0 (`установить счет в to 0`{.blockorange}) при запуске игры. Он также обеспечивает проигрывание песни Jingle Bells во время игры.
Если сначала музыка звучит неровно, сохраните свой проект, закройте Скретч, затем снова откройте его со своим проектом.
## Проверьте свой проект { .flag}
__Щелкните зеленый флажок__. Меняется ли счет, когда Рудольф касается подарка?
## Сохраните свой проект { .save}
# ШАГ 4: Конец игры { .activity}
1. __Давайте изменим наш скрипт так, чтобы в игре подсчитывались очки.__ Позже новые команды можно будет использовать также для сообщения об окончании игры.
2. Изменим скрипт на __Сцене__ так, чтобы когда переменная `Счет`{.blockorange} стала равной **10**, выполнялась бы команда `передать`{.blockyellow} сообщение __Конец игры__.
```блоки
когда щелкнут по ФЛАГУ
установить [ScrollX v] в [0]
установить [Счет v] в [0]
играть звук [Jingle_Bells v]
всегда
если <(score) = [10]>
передать [Конец игры v] и ждать
```
3. Теперь надо добавить само сообщение "Конец игры". Добавим в проект спрайт __Конец игры__ (воспользуйтесь файлом **GameOver.png**).
4. __Добавим следующий скрипт в спрайт Конец игры.__ Он даст команду `скрыть`{.blockpurple} картинку в начале игры и `показать`{.blockpurple} ее при получении сообщения "Конец игры".
```блоки
когда щелкнут по ФЛАГУ
скрыть
когда я получу [Конец игры v]
перейти в верхний слой
показать
стоп [все v]
```
## Проверьте свой проект { .flag}
__Щелкните зеленый флажок__. Меняется ли счет, когда Рудольф касается подарка?
## Сохраните свой проект { .save}
##Трудная задача: Сделайте игру сложнее { .challenge}
* Можете сделать так, чтобы при падении подарки еще и раскачивались?
* Можете сделать так, чтобы одновременно в игру добавлялись несколько подарков?
* Измените сообщение об окончании игры так, чтобы оно появлялось после сбора 20 подарков.
* Можете сделать так, чтобы при падении подарка на землю счет уменьшался на 1?
## Сохраните свой проект { .save}
__Отлично, вы закончили, теперь можете насладиться игрой!__
Счастливого Нового Года и Рождества!
